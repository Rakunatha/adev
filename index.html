<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mixed Media Home | Personal Gallery</title>
  <style>
    :root {
      --bg: #0f0d1c;
      --panel: rgba(19, 16, 38, 0.76);
      --ink: #f6f4ff;
      --muted: #cbc5ec;
      --accent: #ff5ca8;
      --accent-2: #49e7ff;
      --accent-3: #ffc14a;
      --danger: #ff6d7c;
      --success: #5bff9b;
      --line: rgba(255, 255, 255, 0.2);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", "Segoe UI", sans-serif;
      color: var(--ink);
      background:
        radial-gradient(circle at 10% 10%, rgba(73, 231, 255, 0.2), transparent 35%),
        radial-gradient(circle at 85% 18%, rgba(255, 92, 168, 0.18), transparent 35%),
        radial-gradient(circle at 78% 80%, rgba(255, 193, 74, 0.2), transparent 30%),
        var(--bg);
      min-height: 100vh;
      padding: 24px;
    }

    .shell {
      width: min(1100px, 100%);
      margin: 0 auto;
      border: 1px solid var(--line);
      border-radius: 22px;
      background: linear-gradient(140deg, rgba(255, 255, 255, 0.06), rgba(255, 255, 255, 0.01));
      backdrop-filter: blur(8px);
      overflow: hidden;
      box-shadow: 0 20px 80px rgba(0, 0, 0, 0.35);
    }

    .hero {
      padding: 44px 30px;
      border-bottom: 1px solid var(--line);
      position: relative;
      overflow: hidden;
    }

    .hero::after {
      content: "";
      position: absolute;
      width: 220px;
      height: 220px;
      top: -70px;
      right: -50px;
      background: linear-gradient(120deg, var(--accent), var(--accent-2));
      filter: blur(70px);
      opacity: 0.45;
      pointer-events: none;
    }

    .hero h1 {
      font-size: clamp(2rem, 5vw, 3rem);
      margin-bottom: 8px;
      letter-spacing: 0.03em;
    }

    .hero p {
      color: var(--muted);
      max-width: 700px;
      line-height: 1.55;
    }

    .layout {
      display: grid;
      grid-template-columns: 330px 1fr;
      gap: 0;
    }

    .control-panel {
      border-right: 1px solid var(--line);
      padding: 24px;
      background: rgba(8, 7, 16, 0.5);
    }

    .display-panel {
      padding: 24px;
    }

    .card {
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 16px;
      margin-bottom: 16px;
    }

    .card h2 {
      font-size: 1.05rem;
      margin-bottom: 10px;
    }

    .note {
      color: var(--muted);
      font-size: 0.92rem;
      line-height: 1.45;
    }

    .status {
      margin-top: 10px;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border: 1px solid var(--line);
      border-radius: 999px;
      padding: 7px 12px;
      font-size: 0.84rem;
      margin-bottom: 12px;
      background: rgba(255, 255, 255, 0.05);
    }

    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--danger);
      box-shadow: 0 0 10px var(--danger);
    }

    .dot.live {
      background: var(--success);
      box-shadow: 0 0 10px var(--success);
    }

    form {
      display: grid;
      gap: 10px;
    }

    label {
      font-size: 0.88rem;
      color: var(--muted);
      margin-top: 2px;
    }

    input,
    textarea,
    select,
    button {
      width: 100%;
      border: 1px solid var(--line);
      border-radius: 10px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--ink);
      padding: 10px 12px;
      font: inherit;
    }

    textarea {
      min-height: 85px;
      resize: vertical;
    }

    button {
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.18s ease, opacity 0.18s ease;
    }

    button:hover {
      transform: translateY(-1px);
    }

    .btn-accent {
      background: linear-gradient(120deg, var(--accent), #b34cff);
      border: none;
    }

    .btn-muted {
      background: rgba(255, 255, 255, 0.08);
    }

    .tiny {
      font-size: 0.79rem;
      color: var(--muted);
      line-height: 1.4;
    }

    .gallery-head {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 14px;
      gap: 12px;
      flex-wrap: wrap;
    }

    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 14px;
    }

    .art-piece {
      border: 1px solid var(--line);
      border-radius: 14px;
      overflow: hidden;
      background: linear-gradient(160deg, rgba(255, 255, 255, 0.09), rgba(255, 255, 255, 0.03));
      position: relative;
    }

    .art-piece::before {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      background:
        linear-gradient(135deg, rgba(255, 255, 255, 0.08), transparent 40%),
        linear-gradient(315deg, rgba(73, 231, 255, 0.06), transparent 45%);
    }

    .piece-media {
      width: 100%;
      aspect-ratio: 16/10;
      border-bottom: 1px solid var(--line);
      background: rgba(0, 0, 0, 0.3);
      display: grid;
      place-content: center;
      text-align: center;
      padding: 12px;
    }

    .piece-media img,
    .piece-media iframe,
    .piece-media audio {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border: 0;
    }

    .piece-content {
      padding: 12px;
    }

    .piece-content h3 {
      font-size: 1rem;
      margin-bottom: 4px;
    }

    .piece-type {
      display: inline-block;
      font-size: 0.74rem;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      color: var(--accent-2);
      margin-bottom: 8px;
    }

    .piece-content p {
      color: var(--muted);
      font-size: 0.88rem;
      line-height: 1.4;
      margin-bottom: 10px;
    }

    .piece-meta {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .piece-meta a {
      color: var(--accent-3);
      font-size: 0.84rem;
      text-decoration: none;
    }

    .empty {
      border: 1px dashed var(--line);
      border-radius: 14px;
      padding: 30px;
      text-align: center;
      color: var(--muted);
    }

    .hidden {
      display: none;
    }

    @media (max-width: 920px) {
      .layout {
        grid-template-columns: 1fr;
      }

      .control-panel {
        border-right: none;
        border-bottom: 1px solid var(--line);
      }
    }
  </style>
</head>
<body>
  <main class="shell">
    <header class="hero">
      <h1>My Mixed Media Home Page</h1>
      <p>A living collage of images, documents, links, and audio. Visitors can explore the artwork freely, while only I can log in and publish new pieces.</p>
    </header>

    <section class="layout">
      <aside class="control-panel">
        <div class="card">
          <div class="badge">
            <span class="dot" id="liveDot"></span>
            <span id="loginState">Viewer mode</span>
          </div>
          <h2>Creator Login</h2>
          <p class="note">Enter your private login ID and PIN to unlock publishing controls.</p>
          <form id="loginForm">
            <label for="loginId">Login ID</label>
            <input id="loginId" type="text" placeholder="your-login-id" required />
            <label for="loginPin">PIN</label>
            <input id="loginPin" type="password" placeholder="â€¢â€¢â€¢â€¢" required />
            <button class="btn-accent" type="submit">Sign in</button>
          </form>
          <button id="logoutBtn" class="btn-muted hidden" type="button">Sign out</button>
          <p class="tiny" style="margin-top: 10px;">Default credentials are in script constants and can be changed anytime.</p>
          <p class="status" id="authMessage"></p>
        </div>

        <div class="card hidden" id="publishCard">
          <h2>Post New Work</h2>
          <form id="postForm">
            <label for="title">Title</label>
            <input id="title" type="text" maxlength="80" required />

            <label for="type">Media type</label>
            <select id="type" required>
              <option value="image">Picture</option>
              <option value="document">Document</option>
              <option value="link">Link</option>
              <option value="audio">Audio</option>
            </select>

            <label for="url">Public URL</label>
            <input id="url" type="url" placeholder="https://..." required />

            <label for="description">Description</label>
            <textarea id="description" maxlength="240" placeholder="What is this work about?"></textarea>

            <button class="btn-accent" type="submit">Publish to gallery</button>
          </form>
          <p class="tiny" style="margin-top: 10px;">Tip: Use cloud-hosted URLs (Drive, Dropbox, YouTube, SoundCloud, etc.) for best compatibility.</p>
        </div>
      </aside>

      <section class="display-panel">
        <div class="gallery-head">
          <h2>Public Gallery</h2>
          <span class="tiny" id="pieceCount">0 pieces published</span>
        </div>
        <div id="gallery" class="gallery-grid"></div>
      </section>
    </section>
  </main>

  <script>
    const OWNER_LOGIN_ID = "myartadmin";
    const OWNER_PIN = "2811";
    const STORAGE_KEY = "mixed_media_posts_v1";

    const loginForm = document.getElementById("loginForm");
    const logoutBtn = document.getElementById("logoutBtn");
    const publishCard = document.getElementById("publishCard");
    const postForm = document.getElementById("postForm");
    const gallery = document.getElementById("gallery");
    const authMessage = document.getElementById("authMessage");
    const loginState = document.getElementById("loginState");
    const liveDot = document.getElementById("liveDot");
    const pieceCount = document.getElementById("pieceCount");

    let isOwnerLoggedIn = false;

    function loadPosts() {
      const raw = localStorage.getItem(STORAGE_KEY);
      return raw ? JSON.parse(raw) : [];
    }

    function savePosts(posts) {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
    }

    function escapeHtml(value) {
      const map = {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#039;"};
      return value.replace(/[&<>"']/g, m => map[m]);
    }

    function mediaTemplate(post) {
      if (post.type === "image") {
        return `<img src="${post.url}" alt="${escapeHtml(post.title)}" loading="lazy">`;
      }
      if (post.type === "audio") {
        return `<audio controls src="${post.url}">Your browser does not support audio.</audio>`;
      }
      if (post.type === "document") {
        return `<div class="note">ðŸ“„ Document preview unavailable<br>Open with the link below.</div>`;
      }
      return `<div class="note">ðŸ”— External link artwork</div>`;
    }

    function renderPosts() {
      const posts = loadPosts();
      pieceCount.textContent = `${posts.length} piece${posts.length === 1 ? "" : "s"} published`;

      if (!posts.length) {
        gallery.innerHTML = `<div class="empty">No work published yet. Check back soon for the first mixed-media drop.</div>`;
        return;
      }

      gallery.innerHTML = posts
        .slice()
        .reverse()
        .map(post => `
          <article class="art-piece">
            <div class="piece-media">${mediaTemplate(post)}</div>
            <div class="piece-content">
              <span class="piece-type">${escapeHtml(post.type)}</span>
              <h3>${escapeHtml(post.title)}</h3>
              <p>${escapeHtml(post.description || "No caption provided.")}</p>
              <div class="piece-meta">
                <small>${new Date(post.createdAt).toLocaleDateString()}</small>
                <a href="${post.url}" target="_blank" rel="noopener noreferrer">Open</a>
              </div>
            </div>
          </article>
        `)
        .join("");
    }

    function setAuthUi(loggedIn) {
      isOwnerLoggedIn = loggedIn;
      publishCard.classList.toggle("hidden", !loggedIn);
      logoutBtn.classList.toggle("hidden", !loggedIn);
      loginForm.classList.toggle("hidden", loggedIn);
      loginState.textContent = loggedIn ? "Creator mode" : "Viewer mode";
      liveDot.classList.toggle("live", loggedIn);
    }

    loginForm.addEventListener("submit", event => {
      event.preventDefault();
      const loginId = document.getElementById("loginId").value.trim();
      const loginPin = document.getElementById("loginPin").value.trim();

      if (loginId === OWNER_LOGIN_ID && loginPin === OWNER_PIN) {
        setAuthUi(true);
        authMessage.textContent = "Welcome back. You can publish now.";
        authMessage.style.color = "var(--success)";
        loginForm.reset();
      } else {
        authMessage.textContent = "Invalid login ID or PIN.";
        authMessage.style.color = "var(--danger)";
      }
    });

    logoutBtn.addEventListener("click", () => {
      setAuthUi(false);
      authMessage.textContent = "Signed out. Gallery remains public.";
      authMessage.style.color = "var(--muted)";
    });

    postForm.addEventListener("submit", event => {
      event.preventDefault();
      if (!isOwnerLoggedIn) {
        return;
      }

      const post = {
        title: document.getElementById("title").value.trim(),
        type: document.getElementById("type").value,
        url: document.getElementById("url").value.trim(),
        description: document.getElementById("description").value.trim(),
        createdAt: new Date().toISOString()
      };

      const posts = loadPosts();
      posts.push(post);
      savePosts(posts);
      postForm.reset();
      renderPosts();
      authMessage.textContent = "Published successfully.";
      authMessage.style.color = "var(--success)";
    });

    renderPosts();
    setAuthUi(false);
  </script>
</body>
</html>
